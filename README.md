# äººæ ¼ç”»åƒç”Ÿæˆåº”ç”¨ (Personality Profiler)

ä¸€ä¸ªåŸºäº AI çš„äººæ ¼ç”»åƒç”Ÿæˆç³»ç»Ÿï¼Œé€šè¿‡æ·±åº¦é—®ç­”åˆ†æç”¨æˆ·çš„æ€§æ ¼ç‰¹è´¨ã€ä»·å€¼è§‚ã€åŠ¨æœºå’Œè¡Œä¸ºå€¾å‘ã€‚

## ğŸš€ æŠ€æœ¯æ ˆ

### å‰ç«¯
- **Vue 3** + TypeScript
- **Vite** æ„å»ºå·¥å…·
- **Pinia** çŠ¶æ€ç®¡ç†
- **Vue Router** è·¯ç”±ç®¡ç†
- **Element Plus** UIç»„ä»¶åº“
- **Axios** HTTPè¯·æ±‚

### åç«¯
- **ThinkPHP 8** PHPæ¡†æ¶
- **MySQL 8** æ•°æ®åº“
- **JWT** èº«ä»½è®¤è¯
- **OpenAI API** AIåˆ†æ
- **RESTful API** æ¥å£è®¾è®¡

## ğŸ“ é¡¹ç›®ç»“æ„

```
personality-profiler/
â”œâ”€â”€ personality-profiler-frontend/    # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                     # APIæ¥å£å°è£…
â”‚   â”‚   â”œâ”€â”€ components/              # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/                  # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/                  # PiniaçŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ types/                   # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ views/                   # é¡µé¢ç»„ä»¶
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ personality-profiler-backend/     # åç«¯é¡¹ç›®
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ controller/               # æ§åˆ¶å™¨
    â”‚   â”œâ”€â”€ middleware/              # ä¸­é—´ä»¶
    â”‚   â””â”€â”€ service/                 # ä¸šåŠ¡é€»è¾‘
    â”œâ”€â”€ config/                      # é…ç½®æ–‡ä»¶
    â”œâ”€â”€ route/                       # è·¯ç”±å®šä¹‰
    â””â”€â”€ database.sql                 # æ•°æ®åº“ç»“æ„

```

## ğŸ›  å®‰è£…éƒ¨ç½²

### å‰ç½®è¦æ±‚
- Node.js >= 16
- PHP >= 8.1
- Composer
- MySQL >= 8.0
- OpenAI API Key

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yourusername/personality-profiler.git
cd personality-profiler
```

### 2. åç«¯é…ç½®

#### 2.1 å®‰è£…ä¾èµ–
```bash
cd personality-profiler-backend
composer install
```

#### 2.2 é…ç½®ç¯å¢ƒå˜é‡
```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å†…å®¹ï¼š
```env
# æ•°æ®åº“é…ç½®
DATABASE = personality_profiler
USERNAME = your_db_username
PASSWORD = your_db_password

# JWTå¯†é’¥
JWT_SECRET = your-secret-key-change-this-in-production

# OpenAIé…ç½®
OPENAI_API_KEY = your-openai-api-key
OPENAI_MODEL = gpt-4
```

#### 2.3 åˆ›å»ºæ•°æ®åº“
```bash
mysql -u root -p < database.sql
```

#### 2.4 å¯åŠ¨åç«¯æœåŠ¡
```bash
php think run -p 8080
```

### 3. å‰ç«¯é…ç½®

#### 3.1 å®‰è£…ä¾èµ–
```bash
cd personality-profiler-frontend
npm install
```

#### 3.2 é…ç½®APIåœ°å€
ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```env
VITE_API_BASE_URL=http://localhost:8080/api
```

#### 3.3 å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

è®¿é—® http://localhost:5173 å³å¯ä½¿ç”¨åº”ç”¨ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. é—®é¢˜ç®¡ç†ç³»ç»Ÿ
- 20ä¸ªç²¾å¿ƒè®¾è®¡çš„äººæ ¼æµ‹è¯•é—®é¢˜
- æ¶µç›–ä»·å€¼è§‚ã€åŠ¨æœºã€æ€§æ ¼ç‰¹è´¨ã€è¡Œä¸ºå€¾å‘ç­‰ç»´åº¦
- æ”¯æŒå¿…ç­”é¢˜å’Œé€‰ç­”é¢˜

### 2. ç­”é¢˜æµç¨‹
- æ¸è¿›å¼é—®ç­”ä½“éªŒ
- å®æ—¶ä¿å­˜ç­”é¢˜è¿›åº¦
- é—®é¢˜å¯¼èˆªå¿«é€Ÿè·³è½¬
- ç­”é¢˜è¿›åº¦å¯è§†åŒ–

### 3. AI ç”»åƒç”Ÿæˆ
- åŸºäº GPT-4 çš„æ·±åº¦åˆ†æ
- ç”Ÿæˆ500-800å­—çš„è¯¦ç»†åˆ†ææŠ¥å‘Š
- æå–ç»“æ„åŒ–æ ‡ç­¾ï¼ˆæ€§æ ¼ç‰¹è´¨ã€ä»·å€¼è§‚ã€åŠ¨æœºã€è¡Œä¸ºå€¾å‘ï¼‰
- ä¸€å¥è¯ç²¾å‡†æ€»ç»“

### 4. ç”¨æˆ·ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰
- JWT èº«ä»½è®¤è¯
- æ”¯æŒæ¸¸å®¢æ¨¡å¼
- å†å²è®°å½•ä¿å­˜
- ç”»åƒç®¡ç†

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒæ•°æ®è¡¨
- **users**: ç”¨æˆ·ä¿¡æ¯è¡¨
- **questions**: é—®é¢˜æ± è¡¨
- **answers**: ç”¨æˆ·ç­”æ¡ˆè¡¨
- **profiles**: AIç”Ÿæˆçš„äººæ ¼ç”»åƒè¡¨

## ğŸ”’ å®‰å…¨ç‰¹æ€§

### è¾“å…¥è¿‡æ»¤
- XSS æ”»å‡»é˜²æŠ¤
- SQL æ³¨å…¥é˜²æŠ¤
- æ•æ„Ÿè¯è¿‡æ»¤

### æ¥å£é˜²æŠ¤
- é€Ÿç‡é™åˆ¶ï¼ˆ60æ¬¡/åˆ†é’Ÿï¼‰
- JWT Token éªŒè¯
- CORS è·¨åŸŸé…ç½®

### AI è°ƒç”¨ä¿æŠ¤
- å¤±è´¥é‡è¯•æœºåˆ¶
- é™çº§å¤„ç†
- è¶…æ—¶æ§åˆ¶

## ğŸ“ API æ–‡æ¡£

### åŸºç¡€é…ç½®
- Base URL: `http://localhost:8080/api`
- Content-Type: `application/json`
- Authorization: `Bearer {token}` (å¯é€‰)

### ä¸»è¦æ¥å£

#### é—®é¢˜ç›¸å…³
- `GET /questions/list` - è·å–é—®é¢˜åˆ—è¡¨
- `GET /questions/:id` - è·å–å•ä¸ªé—®é¢˜

#### ç­”æ¡ˆç›¸å…³
- `POST /answer/save` - ä¿å­˜å•ä¸ªç­”æ¡ˆ
- `POST /answer/save-batch` - æ‰¹é‡ä¿å­˜ç­”æ¡ˆ
- `GET /answer/session` - è·å–ä¼šè¯ç­”æ¡ˆ

#### ç”»åƒç›¸å…³
- `POST /profile/generate` - ç”Ÿæˆäººæ ¼ç”»åƒ
- `GET /profile/:id` - è·å–ç”»åƒè¯¦æƒ…
- `GET /profile/list` - è·å–ç”»åƒåˆ—è¡¨
- `GET /profile/recent` - è·å–æœ€è¿‘ç”»åƒ

#### ç”¨æˆ·ç›¸å…³
- `POST /user/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /user/login` - ç”¨æˆ·ç™»å½•
- `GET /user/info` - è·å–ç”¨æˆ·ä¿¡æ¯
- `POST /user/logout` - é€€å‡ºç™»å½•

## ğŸš€ ç”Ÿäº§éƒ¨ç½²å»ºè®®

### å‰ç«¯éƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ä½¿ç”¨ Nginx æˆ–å…¶ä»– Web æœåŠ¡å™¨æ‰˜ç®¡ dist ç›®å½•
```

### åç«¯éƒ¨ç½²
1. ä½¿ç”¨ Nginx åå‘ä»£ç†
2. é…ç½® SSL è¯ä¹¦
3. ä½¿ç”¨ PM2 æˆ– Supervisor ç®¡ç†è¿›ç¨‹
4. é…ç½®æ—¥å¿—å’Œç›‘æ§

### æ€§èƒ½ä¼˜åŒ–
- å¯ç”¨ Redis ç¼“å­˜
- é…ç½® CDN åŠ é€Ÿ
- æ•°æ®åº“ç´¢å¼•ä¼˜åŒ–
- API å“åº”å‹ç¼©

## ğŸ“„ å¼€æºåè®®

MIT License

## ğŸ‘¥ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»ç»´æŠ¤è€…ã€‚

---

**æ³¨æ„äº‹é¡¹ï¼š**
1. ç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹é»˜è®¤çš„ JWT å¯†é’¥
2. OpenAI API Key è¯·å¦¥å–„ä¿ç®¡ï¼Œé¿å…æ³„éœ²
3. å®šæœŸå¤‡ä»½æ•°æ®åº“
4. å»ºè®®ä½¿ç”¨ HTTPS åè®®
